<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>expert variable font production tools</title>
    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/roboto-flex.css">
    <link rel="stylesheet" href="plugin/highlight/custom.css">
    <style>
      code { font-size-adjust: 0.475; padding: 0 0.1em; }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section data-markdown>
          <textarea data-template>
            # expert variable font production tools
            Gustavo Ferreira  
            13th January 2026
          </textarea>
        </section>

        <!-- 0. CONTEXT -->

        <section>
          <section data-markdown>
            <textarea data-template>
              ## 0\. Context
              <ul>
                <li class="fragment">working with David Berlow / FontBureau since 2022</li>
                <li class="fragment">building the first avar2 parametric variable fonts</li>
                <li class="fragment">production of AmstelvarA2 Roman & Italic</li>
                <li class="fragment">development of a new workflow with several custom tools </li>
                <li class="fragment">generalisation of custom tools for use in other projects</li>
              </ul>
            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              ## xTools4
              “expert tools for variable font production”

              <p class="fragment">available as an open-source extension for RoboFont 4</p>

              <div class="fragment">
                <p>xTools4 source code:<br/><a href='http://github.com/gferreira/xTools4'>http://github.com/gferreira/xTools4</a></p>
                <p>xTools4 documentation:<br/><a href='http://gferreira.github.io/xTools4'>http://gferreira.github.io/xTools4</a></p>
              </div>

              <p class="fragment">AmstelvarA2 source:<br/><a href="http://github.com/googlefonts/amstelvar-avar2">http://github.com/googlefonts/amstelvar-avar2</a></p>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              slides from a pre-xTools4 presentation:

              [parametric avar2 variable font production tools](20240719_vartools.html)  
              19th July 2024
            </textarea>
          </section>

        </section>

        <!-- INDEX -->

        <section>
          <section data-markdown>
            <textarea data-template>
              ## Index
              1. [visualizing change](#visualizing-change)
              2. [measurements](#measurements)
              3. [parametric blending](#parametric-blending)
              4. [glyph-centric editing](#glyph-centric-editing)
              5. [tuning corners](#tuning-corners)
              6. [missing tools](#missing-tools)
              7. [custom libs](#custom-libs)
            </textarea>
          </section>
        </section>

        <!-- 1. VISUALIZING CHANGE -->

        <section id='visualizing-change'>

          <section data-markdown>
            <textarea data-template>
              ## 1\. Visualizing change

              <p class="fragment">While working on variable font sources, the designer needs to know, at a glance, what is changing in a source in relation to the default.</p>

              <ul>
                <li class="fragment">glyph-level attributes</li>
                <li class="fragment">point positions</li>
                <li class="fragment">font-level attributes</li>
              </ul>

              <div class="fragment">
                <br/>
                <ul>
                  <li>equal to default / different from default</li>
                  <li>contours only / components only</li>
                  <li>errors: mixed contours & components, nested components</li>
                </ul>
              </div>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              xTools4 uses colors to filter out the noise and focus the designer’s attention at the <span class='fragment highlight-current-green'>relevant</span> bits of font source data.

              <div class='fragment'>
                <p>There are two separate color codes which are used consistently across multiple tools.</p>
              </div>

              <div class='fragment'>
                <p>demo:</p>
                <ul>
                  <li><a href='http://gferreira.github.io/xTools4/reference/tools/variable/glyph-validator/'>GlyphValidator</a></li>
                  <li><a href='http://gferreira.github.io/xTools4/reference/tools/variable/varglyph-viewer/'>VarGlyphViewer</a></li>
                  <li><a href='http://gferreira.github.io/xTools4/reference/tools/variable/glyphset-proofer/'>GlyphProofer</a></li>
                  <li><a href='http://gferreira.github.io/xTools4/reference/tools/variable/varglyph-assistant/'>VarGlyphAssistant</a></li>
                  <li><a href='http://gferreira.github.io/xTools4/reference/tools/variable/varfont-assistant/'>VarFontAssistant</a></li>
                </ul>
              </div>

            </textarea>
          </section>

        </section>

        <!-- 2. MEASUREMENTS -->

        <section id='measurements'>
          <section data-markdown>
            <textarea data-template>
              ## 2\. Measurements

              <p class='fragment'>successor of <a href='http://github.com/FontBureau/Parama-roundup'>ParamaRoundup</a></p>

              <br/>
              <p class='fragment'>demo:</p>
              <ul>
                <li class='fragment'>creating measurements from scratch</li>
                <li class='fragment'>AmstelvarA2 measurements</li>
              </ul>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              <p>font-level measurements:</p>
              <ul>
                <li>control glyphs</li>
                <li>parent/child measurements</li>
              </ul>
              <br/>
              <p>glyph-level measurements:</p>
              <ul>
                <li>all glyphs with contours</li>
                <li>interactive preview</li>
              </ul>
              <br/>
              <p>format & concepts:</p>
              <ul>
                <li><a href='https://gferreira.github.io/xTools4/reference/measurements-format/'>measurements format</a></li>
                <li><a href='https://gferreira.github.io/xTools4/reference/measurement-scales-thresholds/'>measurement scales & thresholds</a></li>
              </ul>
            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              how measurements are used:
              - setting source names from measurements
              - building parametric designspace
              - accessing glyph sources for editing (GlyphMeme)
              - blending locations based on extracted measurements
              - controlling consistency in parametric sources
              - ...
            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              scripting examples:

              <pre class='fragment'><code data-trim class="language-python">
              from xTools4.modules.measurements import FontMeasurements

              FM = FontMeasurements()
              FM.read(jsonPath)
              FM.measure(font)

              print(FM.definitions)
              >>> [('XOPQ', 'x', 'H', 2, 'H', 11, '', 'General x opaque'), ... ]

              print(FM.values)
              >>> {'XOPQ': 621, 'XOUC': 621, 'XOLC': 170, 'XOFI': 176, ... }
              </code></pre>

              <pre class='fragment'><code data-trim class="language-python">
              from xTools4.modules.measurements import GlyphMeasurements

              GM = GlyphMeasurements(font, glyphName)
              GM.read(jsonPath)
              GM.measure(font[glyphName])

              print(GM.definitions)
              >>> [('XOLC', 'x', 'd', 0, 'd', 25), ('XOLC', 'x', 'd', 31, 'd', 14), ... ]

              print(GM.values)
              >>> [184, 166, 126, 103, 590, ... ]
              </code></pre>

            </textarea>
          </section>

        </section>

        <!-- 3. PARAMETRIC BLENDING -->

        <section id='parametric-blending'>

          <section data-markdown>
            <textarea data-template>
              ## 3\. Parametric blending

              <p class='fragment'>combining parametric axes to create a blended designspace</p>

              <p class='fragment'>
                blending typographic axes from scratch vs.<br/>
                matching a reference variable font (Amstelvar)
              </p>

              <p class='fragment'>parametric matching:<br/>
                <ul>
                  <li class='fragment'>create a separate measurements file for Amstelvar</li>
                  <li class='fragment'>extract parametric measurements from Amstelvar</li>
                  <li class='fragment'>define AmstelvarA2 blended locations (mappings)<br/>from measurements of Amstelvar styles</li>
                </ul>
              </p>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              blends.json (measured from Amstelvar)
              ```language-json"
              "opsz144_wdth50": {
                "XOUC": 78,
                "XOLC": 71,
                "XOFI": 72,
                "XTUC": 168,
                "XTUR": 214,
              }
              ```

              AmstelvarA2 designspace
              ```xml
              <mapping description="opsz144_wdth50">
                <input>
                  <dimension name="Optical size" xvalue="144"/>
                  <dimension name="Width" xvalue="50"/>
                </input>
                <output>
                  <dimension name="XOUC" xvalue="78"/>
                  <dimension name="XOLC" xvalue="71"/>
                  <dimension name="XOFI" xvalue="72"/>
                  <dimension name="XTUC" xvalue="168"/>
                  <dimension name="XTUR" xvalue="214"/>
                  ...
                ```
            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              demo:
              - [BlendsPreview](http://gferreira.github.io/xTools4/reference/tools/variable/blends-preview/)

              <div class='fragment'>
                <br/>
                <p>implementation details:<br/>
                  <ul>
                    <li>uses <code><a href='http://github.com/harfbuzz/uharfbuzz'>uharfbuzz</a></code> to instantiate glyphs from reference font</li>
                    <li>uses <code><a href='http://github.com/LettError/ufoProcessor'>UFOOperator</a></code> to instantiate glyphs from designspace</li>
                  </ul>
                </p>
              </div>
              <div class='fragment'>
                <br/>
                <ul>
                  <li><code>uharfbuzz</code> is a lot faster, but requires a variable font</li>
                  <li><code>uharfbuzz</code> adds implied on-curve points to quadratic contours</li>
                </ul>
              </div>
            </textarea>
          </section>

        </section>

        <!-- 4. GLYPH-CENTRIC EDITING -->

        <section id='glyph-centric-editing'>

          <section data-markdown>
            <textarea data-template>
              ## 4\. Glyph-centric editing

              <div class='fragment'>
                <p>UFO, RoboFont, designspace are font-centric.</p>
                <p>This is a problem in variable font production workflows, where we often need to edit multiple sources of a single glyph.</p>
              </div>
              <p class='fragment'>Opening complete fonts is expensive in terms of application performance (more time to load complete fonts) and cognitive performance (more effort to find and focus on a glyph).</p>
            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              the TempEdit approach <a href='http://www.hipertipo.com/en/log/2021-05-07-elementar-tools/#tempedit'>(since 2011)</a>:

              <ul>
                <li class='fragment'>import a single glyph from multiple UFOs into a temporary font</li>
                <li class='fragment'>edit the glyphs as usual</li>
                <li class='fragment'>save the glyphs back to the UFOs from which they came</li>
              </ul>

              <div class='fragment'>
                <br/>
                <p>demo:
                  <ul>
                    <li>TempEdit</li>
                  </ul>
                </p>
              </div>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              “glyph meme” (David Berlow)
              
              - all the parameters involved in a variable glyph

              <div class='fragment'>
                <br/>
                <p>demo:
                  <ul>
                    <li><a href='http://gferreira.github.io/xTools4/reference/tools/variable/glyph-meme/'>GlyphMeme</a></li>
                    <!--
                    <li>BlendsPreview</li>
                    <li>>GlyphValidator</li>
                    <li>Measurements</li>
                    <li>VarGlyphViewer</li>
                    -->
                  </ul>
                </p>
              </div>
            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              key points about the parametric method:

              - resist the temptation to tune corners  
                by making parametric sources impure
              
              - parametric sources alone are not enough  
                to match all blended corners
            </textarea>
          </section>

        </section>

        <!-- 5. TUNING CORNERS -->

        <section id='tuning-corners'>

          <section data-markdown>
            <textarea data-template>
              ## 5\. Tuning corners

              <div class='fragment'>
                <p>a simple and comprehensive model:
                  <ul>
                    <li>pure parametric sources</li>
                    <li>tune blended corners when needed</li>
                  </ul>
                </p>
              </div>

              <p class='fragment'>a separate set of sparse sources with deltas for specific locations</p>
              <p class='fragment'>a new set of axes for tuning blended corner locations</p>
              <p class='fragment'>a separate tool to temp-edit the tuning sources of a glyph</p>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              demo:

              - [GlyphTuning](http://gferreira.github.io/xTools4/reference/tools/variable/glyph-tuning/)

              <p class='fragment'><br/>Blending with parametric sources and corner tuning sources allows us to match the reference font with great precision.</p>

              <div class='fragment'>
                <br/>
                <p>demo:
                  <ul>
                    <li>tuning axes</li>
                  </ul>
                </p>
              </div>

            </textarea>
          </section>

        </section>

        <!-- 6. MISSING TOOLS -->

        <section id='missing-tools'>
          <section data-markdown>
            <textarea data-template>
              ## 6\. Missing tools

              <div class='fragment'>
                <p>glyph-centric editing of glyphs with components
                  <ul>
                    <li>import base glyphs</li>
                    <li>edit anchor positions</li>
                    <li>preview and rebuild construction</li>
                  </ul>
                </p>
              </div>

              <div class='fragment'>
                <p><code>xProject</code> object for scripting
                  <ul>
                    <li>define paths to various files</li>
                    <li>set source names from measurements</li>
                    <li>build parametric and blended designspace</li>
                    <li>etc.</li>
                  </ul>
                </p>
              </div>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              small improvements (coming soon)

              - global permill option in Measurements tool
              - drag to reorder font measurements in Measurements tool
              - support for sparse sources in multiple tools
              - reimplement points tab in VarGlyphAssistant
              - ...
            
              <p class='fragment'>
                <br/>
                <a href='http://gferreira.github.io/xTools4/changelog'>xTools4 changelog</a>
              </p>

            </textarea>
          </section>

          <section data-markdown>
            <textarea data-template>
              AmstelvarA2

              - separate axes for the “little things”
              - parent parametric axes
              - kerning
              - fences?
              - ...

              <div class='fragment'>
                <p>RobotoDelta
                  <ul>
                    <li>make source files compatible with xTools4</li>
                  </ul>
                </p>
              </div>

              <div class='fragment'>
                <p>SomethingElse
                  <ul>
                    <li>project log</li>
                    <li><a href='http://gferreira.github.io/xTools4/tutorials/'>tutorials</a></li>
                  </ul>
                </p>
              </div>

            </textarea>
          </section>

        </section>

        <!-- 7. CUSTOM LIBS -->

        <section id='custom-libs'>
          <section data-markdown>
            <textarea data-template>
              ## 7\. Custom libs

              <div class='fragment'>
                <p><a href='http://gferreira.github.io/xTools4/reference/custom-designspace-libs/'>custom designspace libs</a>:
                  <ul>
                    <li><code>com.xTools4.xProject.measurementsPath</code>*</li>
                    <li><code>com.xTools4.xProject.glyphConstructionsPath</code>*</li>
                    <li><code>com.xTools4.xProject.smartSetsPath</code>*</li>
                  </ul>
                </p>
              </div>

              <div class='fragment'>
                <p><a href='http://gferreira.github.io/xTools4/reference/temp-font-libs/'>custom libs in temporary fonts</a>:
                  <ul>
                    <li><code>com.xTools4.tempEdit.mode</code> (font)</li>
                    <li><code>com.xTools4.tempEdit.glyphSetPath</code> (glyph)</li>
                    <li><code>com.xTools4.measurements.default</code> (glyph)</li>
                    <li><code>com.xTools4.measurements.font</code> (glyph)</li>
                  </ul>
                </p>
              </div>

            </textarea>
          </section>
        </section>

        <!-- THE END -->

        <section data-markdown>
          <textarea data-template>
            ## The End (for now)

            <p class='fragment'>This is a team effort.</p>

            <div class='fragment'>
              <p>Thanks for your feedback!</p>
              <p><a href='mailto:gustavo@hipertipo.com'>gustavo@hipertipo.com</a></p>
            </div>

            <br/>
            <p class='fragment'>
              link to this presentation<br/>
              <small><a href='http://gferreira.github.io/vartools-presentations/20260113_xtools.html'>http://gferreira.github.io/vartools-presentations/20260113_xtools.html</a></small>
            </p>

          </textarea>
        </section>

      </div>
    </div>
    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      Reveal.initialize({
        center: false,
        hash: true,
        slideNumber: 'c/t',
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ],
      });
    </script>
  </body>
</html>
